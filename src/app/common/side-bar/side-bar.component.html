<div class="content-side p-3">
  <div class="mb-3 d-flex justify-content-between">
    <div class="text-lg fw-bold text-muted"><i class="fas fa-filter text-primary"></i>
</div>
    <div class="class btn btn-danger" (click)="applyFilters()">Apply Filter </div>
  </div>

  <ul class="list-group">

    <!-- Basic Info -->
    <li class="list-group-item pointer fw-bold" data-bs-toggle="collapse" data-bs-target="#filterBasic" id="default-coll"> <i class="fas fa-user me-2 text-primary"></i>Basic Info</li>
    <div class="collapse" id="filterBasic">
      <div class="card card-body">

        <label class="fw-500">Origin Country</label>
        <!-- country dropdown -->
        <div class="my-2">
           <ng-select
            [items]="countryList"
            bindLabel="country"
            bindValue="country"
            [ngModelOptions]="{standalone: true}"
            [clearable]="false"
            [searchable]="false"
            [multiple]="true"
            [(ngModel)]="selectedCountry"
           >

            <!-- Label template -->
            <ng-template ng-label-tmp let-item="item">
              <div class="d-flex">
                <div>
                  <img class="me-2" src={{item.flags?.svg}} alt="" width="30px">
                </div>
                <div>
                  {{item.country}}
                </div>
              </div>
            </ng-template>
            <!-- Option template -->
            <ng-template ng-option-tmp let-item="item" let-search="searchTerm">
              <div class="d-flex">
                <div>
                  <img src={{item.flags?.svg}} alt="" width="30px" class="me-2">
                </div>

                <div class="">
                  {{item.country}}
                </div>
              </div>
            </ng-template>
          </ng-select>
        </div>

        <label class="fw-500">Living Country</label>
        <!-- country dropdown -->
        <div class="my-2">
           <ng-select
            [items]="countryList"
            bindLabel="country"
            bindValue="country"
            [ngModelOptions]="{standalone: true}"
            [clearable]="false"
            [searchable]="false"
            [multiple]="true"
            [(ngModel)]="selectedLivingCountry"
           >

            <!-- Label template -->
            <ng-template ng-label-tmp let-item="item">
              <div class="d-flex">
                <div>
                  <img class="me-2" src={{item.flags?.svg}} alt="" width="30px">
                </div>
                <div>
                  {{item.country}}
                </div>
              </div>
            </ng-template>
            <!-- Option template -->
            <ng-template ng-option-tmp let-item="item" let-search="searchTerm">
              <div class="d-flex">
                <div>
                  <img src={{item.flags?.svg}} alt="" width="30px" class="me-2">
                </div>

                <div class="">
                  {{item.country}}
                </div>
              </div>
            </ng-template>
          </ng-select>
        </div>

        <div class="mt-3">
          <label class="fw-500">Age Range</label>
          <div class="row mt-2">
            <div class="col-6">
              <div class="text-sm">Min</div>
              <input id="minAge" type="number" class="form-control" [(ngModel)]="minAgeValue" disabled="">
            </div>
            <div class="col-6">
              <div class="text-sm">Max</div>
              <input id="minAge" type="number" class="form-control" [(ngModel)]="maxAgeValue" disabled="">
            </div>
          </div>
        </div>
        <ngx-slider
            [(value)]="minAgeValue"
            [(highValue)]="maxAgeValue"
            [options]="ageOptions">
        </ngx-slider>
      </div>
    </div>

    <!-- Lifestyle -->
    <li class="list-group-item pointer fw-bold" data-bs-toggle="collapse" data-bs-target="#filterLifestyle"> <i class="fas fa-utensils me-2 text-success"></i>Lifestyle</li>
    <div class="collapse" id="filterLifestyle">
      <div class="card card-body">
        <div>
          <label class="fw-500">Food Habits</label>
          <div class="form-check mt-2" *ngFor="let d of dietList">
            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'diet_' + d.id"
              [value]="d.id"
              (change)="onDietChange($event)"
              [checked]="foodHabit.includes(d.id)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'diet_' + d.id">
              {{ d.name }}
            </label>
          </div>
        </div>


        <div class="mt-3">
          <label class="fw-500">Drink Habits</label>
          <div class="form-check mt-2" *ngFor="let dr of drinkHabitList">
            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'dr_' + dr.id"
              [value]="dr.id"
              (change)="onDrinkChange($event)"
              [checked]="drinkHabit.includes(dr.id)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'dr_' + dr.id">
              {{ dr.name }}
            </label>
          </div>
        </div>


        <div class="mt-3">
          <label class="fw-500">Smoke Habits</label>
          <div class="form-check mt-2" *ngFor="let s of SmokeHabitList">
            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'sm_' + s.id"
              [value]="s.id"
              (change)="onSmokeChange($event)"
              [checked]="smokeHabit.includes(s.id)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'sm_' + s.id">
              {{ s.name }}
            </label>
          </div>
        </div>

        <div class="mt-3">
        <label class="fw-500">Willing to Relocate</label>
        <div class="form-check mt-2" *ngFor="let w of welcomeRelocateList">
            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'wg_' + w.id"
              [value]="w.id"
              (change)="onRelocateChange($event)"
              [checked]="welcomeRelocate.includes(w.id)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'wg_' + w.id">
              {{ w.name }}
            </label>
          </div>
        </div>
      </div>
    </div>

    <!-- Physical Attributes -->
    <li class="list-group-item pointer fw-bold" data-bs-toggle="collapse" data-bs-target="#filterPhysical"><i class="fas fa-dumbbell me-2 text-warning"></i>Physical Attributes</li>
    <div class="collapse" id="filterPhysical">
      <div class="card card-body">
         <div class="mt-3">
          <label class="fw-500">Body Type</label>
          <div class="form-check mt-2" *ngFor="let bt of bodyTypeList">
            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'bt_' + bt.id"
              [value]="bt.id"
              (change)="onBodyTypeChange($event)"
              [checked]="bodyType.includes(bt.id)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'bt_' + bt.id">
              {{ bt.name }}
            </label>
          </div>
         </div>


         <div class="mt-3">
            <label class="fw-500">Skin Complexion</label>
            <div class="form-check mt-2" *ngFor="let c of complexionList">
            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'c_' + c.id"
              [value]="c.id"
              (change)="onComplexionChange($event)"
              [checked]="complexion.includes(c.id)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'c_' + c.id">
              {{ c.name }}
            </label>
          </div>
         </div>


         <div class="mt-3">
           <label class="fw-500">Height Range</label>
            <div class="row mt-2">
              <div class="col-6">
                <div class="text-sm">Min(cm)</div>
                <input id="minAge" type="number" class="form-control" [(ngModel)]="minHeightValue" disabled="">
              </div>
              <div class="col-6">
                <div class="text-sm">Max(cm)</div>
                <input id="minAge" type="number" class="form-control" [(ngModel)]="maxHeightValue" disabled="">
              </div>
            </div>
            <ngx-slider
              [(value)]="minHeightValue"
              [(highValue)]="maxHeightValue"
              [options]="HeightOptions">
            </ngx-slider>
         </div>

         <div class="mt-3">
          <label class="fw-500">Weight Range</label>
           <div class="row mt-2">
              <div class="col-6">
                <div class="text-sm">Min(kg)</div>
                <input id="minAge" type="number" class="form-control" [(ngModel)]="minWeightValue" disabled="">
              </div>
              <div class="col-6">
                <div class="text-sm">Max(kg)</div>
                <input id="minAge" type="number" class="form-control" [(ngModel)]="maxWeightValue" disabled="">
              </div>
            </div>
            <ngx-slider
              [(value)]="minWeightValue"
              [(highValue)]="maxWeightValue"
              [options]="weightOptions">
            </ngx-slider>
         </div>

      </div>
    </div>

    <!-- Cultural Background -->
    <li class="list-group-item pointer fw-bold" data-bs-toggle="collapse" data-bs-target="#filterCulture"> <i class="fas fa-globe-americas me-2 text-info"></i>Cultural Background</li>
    <div class="collapse" id="filterCulture">
      <div class="card card-body">
         <div class="mt-3">
            <label class="fw-500">Religion</label>
            <div class="form-check mt-2" *ngFor="let r of religionList">
            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'re_' + r.id"
              [value]="r.id"
              (change)="onReligionChange($event)"
              [checked]="religion.includes(r.id)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'re_' + r.id">
              {{ r.name }}
            </label>
          </div>
         </div>

        <div class="mt-3">
          <label class="fw-500">Community</label>
          <div class="form-check mt-2" *ngFor="let com of communityList">
            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'re_' + com.id"
              [value]="com.id"
              (change)="onCommunityChange($event)"
              [checked]="community.includes(com.id)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'re_' + com.id">
              {{ com.name }}
            </label>
          </div>
        </div>

        <div class="mt-3">
         <label class="fw-500">Sub Community</label>
         <div class="form-check mt-2" *ngFor="let sub of SubCommunityList">
            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'re_' + sub.id"
              [value]="sub.id"
              (change)="onSubCommunityChange($event)"
              [checked]="subCommunity.includes(sub.id)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'re_' + sub.id">
              {{ sub.name }}
            </label>
          </div>
        </div>

        <div class="mt-3">
          <label class="fw-500">Known Languages</label>
          <div class="form-check mt-2" *ngFor="let kl of knownLanguagesList">
            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'re_' + kl.id"
              [value]="kl.name"
              (change)="onKnowLanguageChange($event)"
              [checked]="knownLanguages.includes(kl.name)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'re_' + kl.id">
              {{ kl.name }}
            </label>
          </div>
        </div>

      </div>
    </div>

    <!-- Career & Education -->
    <li class="list-group-item pointer fw-bold" data-bs-toggle="collapse" data-bs-target="#filterCareer"><i class="fas fa-briefcase me-2 text-primary"></i>Career & Education</li>
    <div class="collapse" id="filterCareer">
      <div class="card card-body">
        <div class="mt-3"></div>
        <label class="fw-500">Job Sectors</label>
        <div class="form-check mt-2" *ngFor="let sec of sectorList">

            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'js_' + sec.id"
              [value]="sec.id"
              (change)="onJobSectorChange($event)"
              [checked]="sector.includes(sec.id)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'js_' + sec.id">
              {{ sec.name }}
            </label>
          </div>

        <div class="mt-3">
          <label class="fw-500">Job Types</label>
           <div class="form-check mt-2" *ngFor="let jt of jobTypeList">
            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'js_' + jt.id"
              [value]="jt.id"
              (change)="onJobTypeChange($event)"
              [checked]="jobType.includes(jt.id)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'js_' + jt.id">
              {{ jt.name }}
            </label>
          </div>
        </div>


        <div class="mt-3">
          <label class="fw-500">Education Qualifications</label>
          <div class="form-check mt-2" *ngFor="let ed of educationList">
            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'ed_' + ed.id"
              [value]="ed.id"
              (change)="onEducationChange($event)"
              [checked]="education.includes(ed.id)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'ed_' + ed.id">
              {{ ed.name }}
            </label>
          </div>
        </div>

        <div class="mt-3">
           <label class="fw-500">Salary</label>
            <div class="row mt-2">
              <div class="col-6">
                <div class="text-sm">Min</div>
                <input id="minAge" type="number" class="form-control" [(ngModel)]="minSalaryValue" >
              </div>
              <div class="col-6">
                <div class="text-sm">Max</div>
                <input id="minAge" type="number" class="form-control" [(ngModel)]="maxSalaryValue">
              </div>
            </div>
            <!-- <ngx-slider
            [(value)]="minSalaryValue"
            [(highValue)]="maxSalaryValue"
            [options]="salaryOptions">
        </ngx-slider> -->
        </div>

        <!-- currencyCode + min/max salary inputs -->
      </div>
    </div>

    <!-- Astrology -->
    <li class="list-group-item pointer fw-bold" data-bs-toggle="collapse" data-bs-target="#filterAstro"><i class="fas fa-star me-2 text-warning"></i>Astrology</li>
    <div class="collapse" id="filterAstro">
      <div class="card card-body">
        <div class="mt-3">
          <label class="fw-500" >Nakshathiram</label>
          <div class="form-check mt-2" *ngFor="let nt of natshathiraList">
            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'ed_' + nt.id"
              [value]="nt.id"
              (change)="onNatsathiraChange($event)"
              [checked]="natshathira.includes(nt.id)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'ed_' + nt.id">
              {{ nt.name }}
            </label>
          </div>
        </div>
        <div class="mt-3">
          <label class="fw-500" >Raasi</label>
          <div class="form-check mt-2" *ngFor="let ra of rasiList">
            <input
              class="form-check-input small-check"
              type="checkbox"
              [id]="'ed_' + ra.id"
              [value]="ra.id"
              (change)="onRasiChange($event)"
              [checked]="rasi.includes(ra.id)"
            >
            <label class="form-check-label ms-2 text-sm" [for]="'ed_' + ra.id">
              {{ ra.name }}
            </label>
          </div>
        </div>
      </div>
    </div>

  </ul>
</div>
