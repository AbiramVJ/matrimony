<form [formGroup]="userReligiousForm">
  <div class="row">
    <div class="col-12 col-md-6 mb-3">
      <label for="diet" class="mb-1">Religion<span class="text-danger">*</span></label>
      <ng-select
      [items]="religionList"
      bindLabel="name"
      bindValue="id"
      [ngModelOptions]="{standalone: true}"
      [clearable]="false"
      [searchable]="false"
      [(ngModel)]="selectedReligions"
      [disabled]="isLoading"
      >
      </ng-select>
    </div>


  <div class="col-12 col-md-6 mb-3">
    <label for="diet" class="mb-1">Community<span class="text-danger">*</span></label>
    <ng-select
    [items]="communityList"
    bindLabel="name"
    bindValue="id"
    [ngModelOptions]="{standalone: true}"
    [clearable]="false"
    [searchable]="false"
    [(ngModel)]="selectedCommunity"
    (change)="changeCommunity()"
    [disabled]="isLoading"
    >
    </ng-select>
  </div>

  <div class="col-12 col-md-6 mb-3">
    <label for="diet" class="mb-1">Sub Community<span class="text-danger">*</span></label>
    <ng-select
    [items]="SubCommunityList"
    bindLabel="name"
    bindValue="id"
    [ngModelOptions]="{standalone: true}"
    [clearable]="false"
    [searchable]="false"
    [(ngModel)]="selectedSubCommunity"
    [disabled]="isLoading"

    >
    </ng-select>
  </div>

  <div class="col-12 col-md-6 mb-3">
    <label for="diet" class="mb-1">Star/Nakshathra<span class="text-danger">*</span></label>
    <ng-select
    [items]="natshathiraList"
    bindLabel="name"
    bindValue="id"
    [ngModelOptions]="{standalone: true}"
    [clearable]="false"
    [searchable]="false"
    [(ngModel)]="selectedStar"
    >
    </ng-select>
  </div>

  <div class="col-12 col-md-6 mb-3">
    <label for="diet" class="mb-1">Raasi<span class="text-danger">*</span></label>
    <ng-select
    [items]="rasiList"
    bindLabel="name"
    bindValue="id"
    [ngModelOptions]="{standalone: true}"
    [clearable]="false"
    [searchable]="false"
    [(ngModel)]="selectedRaasi"
    >
    </ng-select>
  </div>
  <div class="text-md fw-bold text-muted mb-3 mt-3">Birth Details</div>
  <div class="col-12 col-md-6 mb-3">
    <div class="form-group mb-3">
      <label for="timeOfBirth" class="mb-2">Time of Birth <span class="text-danger">*</span></label>
      <input type="time" id="timeOfBirth" formControlName="timeOfBirth" class="form-control"
             [ngClass]="{'errorBorder': isSubmitted && userReligiousForm.get('timeOfBirth')?.errors}">
      <div class="text-xs text-danger mt-1" *ngIf="isSubmitted && userReligiousForm.get('timeOfBirth')?.errors">
        Time of birth is required
      </div>
    </div>
  </div>


  <div class="col-12 col-md-6 mb-3">
    <label for="city text-sm" class="mb-2">City<span class="text-danger">*</span> </label>
    <input type="text" id="city" formControlName="city" class="form-control" [ngClass]="{'errorBorder': isSubmitted && userReligiousForm.get('city')?.errors}"/>
    <div class="text-xs text-danger mt-1" *ngIf="isSubmitted && userReligiousForm.get('city')?.errors">City is required</div>
  </div>

  <div class="col-12 col-md-6 mb-3">
    <label for="province text-sm" class="mb-2">State/Province<span class="text-danger">*</span> </label>
    <input type="text" id="province" formControlName="stateProvince" class="form-control" [ngClass]="{'errorBorder': isSubmitted && userReligiousForm.get('stateProvince')?.errors}"/>
    <div class="text-xs text-danger mt-1" *ngIf="isSubmitted && userReligiousForm.get('stateProvince')?.errors">State/Province is required</div>
  </div>

  <div class="col-12 col-md-6 mb-3">
    <label for="email text-sm" class="mb-2">Country<span class="text-danger">*</span> </label>
    <ng-select
    [items]="countryList"
    bindLabel="country"
    bindValue="iso"
    [ngModelOptions]="{standalone: true}"
    [clearable]="false"
    [searchable]="false"
    [(ngModel)]="selectedCountry"

    >

    <!-- Label template -->
    <ng-template ng-label-tmp let-item="item">
      <div class="d-flex">
        <div>
          <img class="me-2" src={{item.flags.svg}} alt="" width="30px">
        </div>
        <div>
          {{item.country}}
        </div>
      </div>
    </ng-template>
    <!-- Option template -->
    <ng-template ng-option-tmp let-item="item" let-search="searchTerm">
      <div class="d-flex">
        <div>
          <img src={{item.flags.svg}} alt="" width="30px" class="me-2">
        </div>

        <div class="">
          {{item.country}}
        </div>
      </div>
    </ng-template>
  </ng-select>
  </div>

  <button class="btn btn-danger me-3 w-100 mt-5" (click)="next()" [disabled]="isLoading">NEXT</button>
</div>
</form>
