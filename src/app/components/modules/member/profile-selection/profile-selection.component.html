<section class="content">
  <div class="component-content">
    <div class="row m-0 bg-colors">
      <div class="col-12 col-md-12 col-lg-9 mx-auto">
       <div class="row">
          <div class="col-12">
            <div class="d-flex justify-content-center align-items-center">
              <div class="col-12 px-4 py-3">
                <div class="bg-danger text-white m-shadow p-3">
                  <div class="text-lg fw-bold">Member list</div>
                  <div class="text-md">View and manage all the members with m-gate.</div>
                </div>
                <div class="row mt-3">
                  <div class="col-lg-3 col-md-4 col-sm-6 col-12 mt-3" *ngFor="let p of memberProfiles">
                    <div class="m-shadow p-2 profile-card pointer position-relative" (click)="navigateToHome()">
                      <div>
                        <img src={{p.profileImages[0].url}} alt="pf" class="object-fit-cover border rounded" width="100%" height="150px">
                      </div>
                      <div class="mt-2 name-card p-2">
                        <div class="text-md text-muted fw-bold">{{p.firstName + ' ' + p.lastName}}</div>
                        <!-- <div class="text-sm"><i class="fas fa-circle" [ngClass]="p.isActive ? 'active-color': 'in-active-color'" title="Online"></i> {{p.isActive ? 'Active' : '3 days ago'}}</div> -->
                         <div class="active-bandage position-absolute">
                          <span class="badge" [ngClass]="p.isActive ? 'bg-success': 'bg-secondary'">{{p.isActive ? 'Active' : '3 days ago'}}</span>
                         </div>
                          <div class="text-sm">{{p.email}}</div>
                          <div class="d-flex justify-content-end mt-1">
                            <div class="d-flex">
                              <div><i class="fas fa-edit text-primary me-2" (click)="navigateToEditForm(p.id)"></i></div>
                              <div data-bs-toggle="modal" data-bs-target="#staticBackdrop"  (click)="deleteMemberId = p.id"><i class="fas fa-trash text-danger"></i></div>
                            </div>
                          </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-3 col-md-4 col-sm-6 col-12 mt-3" (click)="navigateToFrom()">
                    <div class="create-profile-card m-shadow p-3 text-center bg-white pointer">
                      <div class="create-profile-icon">
                        <span>+</span>
                      </div>
                      <div class="create-profile-text fw-bold">Add Profile</div>
                    </div>
                  </div>
                </div>
              <!-- <div class="d-flex justify-content-center mt-5" *ngIf="isLoading">
                <div class="spinner-grow text-danger me-1" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
                <div class="spinner-grow text-warning me-1" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
                <div class="spinner-grow text-danger" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
              </div> -->
              </div>
            </div>
          </div>
       </div>
      </div>
    </div>
  </div>
</section>


<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" id="deleteMemberModalId"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-10 mx-auto">
            <div class="text-center">
              <img src="https://cdn-icons-png.flaticon.com/512/3687/3687412.png" alt="" width="150px">
            </div>
            <div class="text-lg fw-bold text-center">Confirm to delete this member</div>
            <div class="mt-3">
              <div class="d-flex justify-content-center">
                <button class="btn btn-secondary me-2" data-bs-dismiss="modal" aria-label="Close"> cancel</button>
                <button class="btn btn-danger" (click)="deleteMember()" [disabled]="isLoading">Confirm <div class="spinner-border spinner-border-sm text-light me-1" *ngIf="isLoading"></div></button>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>
